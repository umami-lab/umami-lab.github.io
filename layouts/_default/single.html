{{ define "main" }}
  {{- $sectionDelimiter := "<!-- section -->" -}}
  {{- $rawContentSections := split .RawContent $sectionDelimiter -}}

  <div id="recipe-pdf-content" class="pdf-style">
    <h1 class="latex-title">Umami-Lab</h1>
    <h2 class="latex-subtitle">{{ .Title }}</h2>

    <p class="author">Enguerrand Michelon</p>
    <p class="date">{{ .Date.Format "02 janvier 2006" }}</p>

    <hr class="separator">

    <h3 class="section-title">Résumé</h3>
    {{ with .Params.summary }}
      <p>{{ . }}</p>
    {{ else }}
      <p>Aucune description n’a été fournie pour cette recette.</p>
    {{ end }}

    {{ if ge (len $rawContentSections) 2 }}
      <h3 class="section-title">1. Ingrédients</h3>
      {{ index $rawContentSections 1 | .RenderString }}
    {{ end }}

    {{ if ge (len $rawContentSections) 3 }}
      <h3 class="section-title">2. Préparation</h3>
      {{ index $rawContentSections 2 | .RenderString }}
    {{ end }}

    {{ if ge (len $rawContentSections) 4 }}
      <h3 class="section-title">3. Conseils & remarques</h3>
      {{ index $rawContentSections 3 | .RenderString }}
    {{ end }}
  </div>
{{ end }}
